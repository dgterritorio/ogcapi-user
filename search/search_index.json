{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"OGC API da DGT - Manual de Utiliza\u00e7\u00e3o Este manual destina-se a compreender e utilizar a infraestrutura de dados OGCAPI da DGT. S\u00e3o bem vindas contribui\u00e7\u00f5es para este manual, atrav\u00e9s dos mecanismos descritos nesta sec\u00e7\u00e3o .","title":"In\u00edcio"},{"location":"#ogc-api-da-dgt-manual-de-utilizacao","text":"Este manual destina-se a compreender e utilizar a infraestrutura de dados OGCAPI da DGT. S\u00e3o bem vindas contribui\u00e7\u00f5es para este manual, atrav\u00e9s dos mecanismos descritos nesta sec\u00e7\u00e3o .","title":"OGC API da DGT - Manual de Utiliza\u00e7\u00e3o"},{"location":"clientes/","text":"Acesso desde o QGIS Esta sec\u00e7\u00e3o ilustra como aceder a dados publicados em OGC API, atrav\u00e9s da aplica\u00e7\u00e3o cliente QGIS . A lista de clientes que podem aceder a dados publicados em OGC API pode ser consultada nos reposit\u00f3rios de GitHub de cada Standard (por exemplo, OGC API - Features ) e inclui aplica\u00e7\u00f5es como LeafLet, OpenLayers, GDAL ou ArcGIS. Info Para as demonstra\u00e7\u00f5es abaixo, foi usada a LTR do QGIS, que no momento em que este manual foi escrito \u00e9 a 3.40.6. Mais detalhes podem ser consultados na tabela abaixo: QGIS version 3.40.6-Bratislava QGIS code revision 5d7f6a3e265 Libraries Qt version 5.15.13 Python version 3.12.3 GDAL version 3.8.4 PROJ version 9.4.0 EPSG Registry database version v11.004 (2024-02-24) GEOS version 3.12.1-CAPI-1.18.1 SQLite version 3.45.1 PostgreSQL client version 16.8 (Ubuntu 16.8-0ubuntu0.24.04.1) SpatiaLite version 5.1.0 QWT version 6.1.4 QScintilla2 version 2.14.1 OS version Ubuntu 24.04.2 LTS OGC API - Features Para adicionar um layer do tipo \"OGC API - Features\", pode ser utilizado o browser do lado esquerdo, carregando no item \"WFS/OGC API - Features\" para chamar o context menu, e escolhendo \"Nova Liga\u00e7\u00e3o\". No passo seguinte, \u00e9 aberta uma caixa de configura\u00e7\u00e3o para introduzir os dados da liga\u00e7\u00e3o. Na sec\u00e7\u00e3o url deve ser introduzido o url da Landing Page da OGC API: https://ogcapi.dgterritorio.gov.pt/ . As opc\u00f5es de WFS s\u00e3o facultativas. Ao pressionar ok para fechar a caixa anterior, uma nova liga\u00e7\u00e3o aparecer\u00e1 listada debaixo da sec\u00e7\u00e3o \"WFS/OGC API - Features\", no browser panel. Ao carregar nesse item para expandir-lo ir\u00e3o aparecer todas as colec\u00e7\u00f5es de OGC API - Features, dispon\u00edveis no servidor. Qualquer uma destas colec\u00e7\u00f5es pode ser adicionada ao QGIS como layer, fazendo duplo click, ou carregando nela para chamar o menu de contexto e escolhendo \"Add layer to project\". Tip As colec\u00e7\u00f5es OGC API - Features tamb\u00e9m podem ser adicionadas atrav\u00e9s do top menu \"Layer\", escolhendo \"Add Layer\" e \"Add WFS/OGC API - Features Layer\". OGC API - Tiles O QGIS permite adicionar tiles vectoriais com o formato OGC API - Tiles. No browser panel do lado esquerdo, carregar no item \"Vector Tiles\" para chamar o context menu e seleccionar \"New generic connection\". Na caixa de configura\u00e7\u00e3o deve-se indicar qual \u00e9 o \"source url\" da colec\u00e7\u00e3o. Tip Para obter \"source url\" da colec\u00e7\u00e3o pode-se consultar o endpoint de tileset metadata. Depois de identificar a colec\u00e7\u00e3o de interesse, atrav\u00e9s do endpoint de colec\u00e7\u00f5es , carregar nessa colec\u00e7\u00e3o para obter a p\u00e1gina da colec\u00e7\u00e3o. Por exemplo, se quiseremos os metadados de colec\u00e7\u00e3o de \"CRUS ABRANTES\", podemos carregar nesse link que nos leva at\u00e9: https://ogcapi.dgterritorio.gov.pt/collections/crus_abrantes . A \u00faltima parte do url - crus_abrantes - \u00e9 o nome da colec\u00e7\u00e3o. Para aceder ao tileset metadata, podemos substituir o NOME neste url, por crus_abrantes : https://ogcapi.dgterritorio.gov.pt/collections/NOME/tiles/WebMercatorQuad/metadata Acedendo a url podemos consultar o Tile URL template. Podemos copiar este valor para o \"source url\" do QGIS, substituindo tileMatrix por z , tileRow por y e tileCol por x : Depois de aceitar esta configura\u00e7\u00e3o, a colec\u00e7\u00e3o ir\u00e1 aparecer listada debaixo do item \"Vector Tiles\". Ela pode ser adicionada ao mapa, carregando para obter o context menu, e depois seleccionando \"Add layer to project\". OGC API - Maps A infraestrutura OGC API da DGT disponibiliza duas colec\u00e7\u00f5es como OGC API - Maps: \"OrtoSat 30 cm - Portugal Continental - 2023\": Cor Verdadeira e Cor Falsa. Para acceder a qualquer uma destas colec\u00e7\u00f5es, come\u00e7amos por identificar o endpoint da colec\u00e7\u00e3o atrav\u00e9s do endpoint de colec\u00e7\u00f5es . Por exemplo para o tema \"Cor Verdadeira\": https://ogcapi.dgterritorio.gov.pt/collections/ortos-rgb Atrav\u00e9s do menu \"Layer\", seleccionar a op\u00e7\u00e3o \"Add Layer\" e \"Add Raster Layer\". Na caixa de configura\u00e7\u00e3o, seleccionar o radio button \"OGC API\", que ir\u00e1 expandir um menu com op\u00e7\u00f5es de configura\u00e7\u00e3o. Na sec\u00e7\u00e3o \"OGC API - endpoint\", deve-se preencher o url da colec\u00e7\u00e3o que identific\u00e1mos acima e na API , escolher map . Todas as outras configura\u00e7\u00f5es s\u00e3o opcionais. Depois de aceitar esta configura\u00e7\u00e3o, a colec\u00e7\u00e3o ser\u00e1 adicionada ao mapa.","title":"Acesso desde o QGIS"},{"location":"clientes/#acesso-desde-o-qgis","text":"Esta sec\u00e7\u00e3o ilustra como aceder a dados publicados em OGC API, atrav\u00e9s da aplica\u00e7\u00e3o cliente QGIS . A lista de clientes que podem aceder a dados publicados em OGC API pode ser consultada nos reposit\u00f3rios de GitHub de cada Standard (por exemplo, OGC API - Features ) e inclui aplica\u00e7\u00f5es como LeafLet, OpenLayers, GDAL ou ArcGIS. Info Para as demonstra\u00e7\u00f5es abaixo, foi usada a LTR do QGIS, que no momento em que este manual foi escrito \u00e9 a 3.40.6. Mais detalhes podem ser consultados na tabela abaixo: QGIS version 3.40.6-Bratislava QGIS code revision 5d7f6a3e265 Libraries Qt version 5.15.13 Python version 3.12.3 GDAL version 3.8.4 PROJ version 9.4.0 EPSG Registry database version v11.004 (2024-02-24) GEOS version 3.12.1-CAPI-1.18.1 SQLite version 3.45.1 PostgreSQL client version 16.8 (Ubuntu 16.8-0ubuntu0.24.04.1) SpatiaLite version 5.1.0 QWT version 6.1.4 QScintilla2 version 2.14.1 OS version Ubuntu 24.04.2 LTS","title":"Acesso desde o QGIS"},{"location":"clientes/#ogc-api-features","text":"Para adicionar um layer do tipo \"OGC API - Features\", pode ser utilizado o browser do lado esquerdo, carregando no item \"WFS/OGC API - Features\" para chamar o context menu, e escolhendo \"Nova Liga\u00e7\u00e3o\". No passo seguinte, \u00e9 aberta uma caixa de configura\u00e7\u00e3o para introduzir os dados da liga\u00e7\u00e3o. Na sec\u00e7\u00e3o url deve ser introduzido o url da Landing Page da OGC API: https://ogcapi.dgterritorio.gov.pt/ . As opc\u00f5es de WFS s\u00e3o facultativas. Ao pressionar ok para fechar a caixa anterior, uma nova liga\u00e7\u00e3o aparecer\u00e1 listada debaixo da sec\u00e7\u00e3o \"WFS/OGC API - Features\", no browser panel. Ao carregar nesse item para expandir-lo ir\u00e3o aparecer todas as colec\u00e7\u00f5es de OGC API - Features, dispon\u00edveis no servidor. Qualquer uma destas colec\u00e7\u00f5es pode ser adicionada ao QGIS como layer, fazendo duplo click, ou carregando nela para chamar o menu de contexto e escolhendo \"Add layer to project\". Tip As colec\u00e7\u00f5es OGC API - Features tamb\u00e9m podem ser adicionadas atrav\u00e9s do top menu \"Layer\", escolhendo \"Add Layer\" e \"Add WFS/OGC API - Features Layer\".","title":"OGC API - Features"},{"location":"clientes/#ogc-api-tiles","text":"O QGIS permite adicionar tiles vectoriais com o formato OGC API - Tiles. No browser panel do lado esquerdo, carregar no item \"Vector Tiles\" para chamar o context menu e seleccionar \"New generic connection\". Na caixa de configura\u00e7\u00e3o deve-se indicar qual \u00e9 o \"source url\" da colec\u00e7\u00e3o. Tip Para obter \"source url\" da colec\u00e7\u00e3o pode-se consultar o endpoint de tileset metadata. Depois de identificar a colec\u00e7\u00e3o de interesse, atrav\u00e9s do endpoint de colec\u00e7\u00f5es , carregar nessa colec\u00e7\u00e3o para obter a p\u00e1gina da colec\u00e7\u00e3o. Por exemplo, se quiseremos os metadados de colec\u00e7\u00e3o de \"CRUS ABRANTES\", podemos carregar nesse link que nos leva at\u00e9: https://ogcapi.dgterritorio.gov.pt/collections/crus_abrantes . A \u00faltima parte do url - crus_abrantes - \u00e9 o nome da colec\u00e7\u00e3o. Para aceder ao tileset metadata, podemos substituir o NOME neste url, por crus_abrantes : https://ogcapi.dgterritorio.gov.pt/collections/NOME/tiles/WebMercatorQuad/metadata Acedendo a url podemos consultar o Tile URL template. Podemos copiar este valor para o \"source url\" do QGIS, substituindo tileMatrix por z , tileRow por y e tileCol por x : Depois de aceitar esta configura\u00e7\u00e3o, a colec\u00e7\u00e3o ir\u00e1 aparecer listada debaixo do item \"Vector Tiles\". Ela pode ser adicionada ao mapa, carregando para obter o context menu, e depois seleccionando \"Add layer to project\".","title":"OGC API - Tiles"},{"location":"clientes/#ogc-api-maps","text":"A infraestrutura OGC API da DGT disponibiliza duas colec\u00e7\u00f5es como OGC API - Maps: \"OrtoSat 30 cm - Portugal Continental - 2023\": Cor Verdadeira e Cor Falsa. Para acceder a qualquer uma destas colec\u00e7\u00f5es, come\u00e7amos por identificar o endpoint da colec\u00e7\u00e3o atrav\u00e9s do endpoint de colec\u00e7\u00f5es . Por exemplo para o tema \"Cor Verdadeira\": https://ogcapi.dgterritorio.gov.pt/collections/ortos-rgb Atrav\u00e9s do menu \"Layer\", seleccionar a op\u00e7\u00e3o \"Add Layer\" e \"Add Raster Layer\". Na caixa de configura\u00e7\u00e3o, seleccionar o radio button \"OGC API\", que ir\u00e1 expandir um menu com op\u00e7\u00f5es de configura\u00e7\u00e3o. Na sec\u00e7\u00e3o \"OGC API - endpoint\", deve-se preencher o url da colec\u00e7\u00e3o que identific\u00e1mos acima e na API , escolher map . Todas as outras configura\u00e7\u00f5es s\u00e3o opcionais. Depois de aceitar esta configura\u00e7\u00e3o, a colec\u00e7\u00e3o ser\u00e1 adicionada ao mapa.","title":"OGC API - Maps"},{"location":"contribuir/","text":"Contribuir para este Manual Sugest\u00f5es, melhorias e correc\u00e7\u00f5es s\u00e3o sempre bem vindos atrav\u00e9s do reposit\u00f3rio git deste projecto . Para assinalar alguma quest\u00e3o, ou colocar uma d\u00favida, pode ser utilizado o issue tracker do projecto. Para fazer altera\u00e7\u00f5es no conte\u00fado ou estrutura deste manual (por exemplo correc\u00e7\u00f5es no texto, ou adicionar recursos), pode ser criado um Pull Request . Mais detalhes sobre a tecnologia utilizada para criar este manual e a sua licen\u00e7a podem ser encontrados no README do projecto.","title":"Contribuir para este Manual"},{"location":"contribuir/#contribuir-para-este-manual","text":"Sugest\u00f5es, melhorias e correc\u00e7\u00f5es s\u00e3o sempre bem vindos atrav\u00e9s do reposit\u00f3rio git deste projecto . Para assinalar alguma quest\u00e3o, ou colocar uma d\u00favida, pode ser utilizado o issue tracker do projecto. Para fazer altera\u00e7\u00f5es no conte\u00fado ou estrutura deste manual (por exemplo correc\u00e7\u00f5es no texto, ou adicionar recursos), pode ser criado um Pull Request . Mais detalhes sobre a tecnologia utilizada para criar este manual e a sua licen\u00e7a podem ser encontrados no README do projecto.","title":"Contribuir para este Manual"},{"location":"descricao/","text":"Descri\u00e7\u00e3o Warning As descri\u00e7\u00f5es de funcionalidade dos Standards OGC apresentadas nesta sec\u00e7\u00e3o cobrem apenas alguns aspectos e n\u00e3o dispensam a leitura completa dos Standards aqui referidos: OGC API - Common, OGC API Features e OGC API - Tiles. Os links para esses documentos podem ser encontrados directamente no texto, ou na sec\u00e7\u00e3o Refer\u00eancias e Recursos de Aprendizagem Introdu\u00e7\u00e3o A disponibiliza\u00e7\u00e3o e reutiliza\u00e7\u00e3o dos dados abertos, conforme estabelecido na Diretiva (UE) 2019/1024 do Parlamento Europeu e do Conselho, exige a ado\u00e7\u00e3o de novos procedimentos nomeadamente a n\u00edvel da disponibiliza\u00e7\u00e3o e reutiliza\u00e7\u00e3o da informa\u00e7\u00e3o do sector p\u00fablico. Os dados geogr\u00e1ficos abertos devem ser disponibilizados gratuitamente, em formato leg\u00edvel por m\u00e1quinas e por meio de Interfaces de Programa\u00e7\u00e3o de Aplica\u00e7\u00f5es (IPA/API). A Open Geospatial Consortium (OGC) tem vindo nos \u00faltimos anos a desenvolver novos Servi\u00e7os de Dados Geogr\u00e1ficos (SDG) para a WEB atrav\u00e9s de API, denominadas de OGC API . Estas API foram concebidas para facilitar a qualquer pessoa a disponibiliza\u00e7\u00e3o e a utiliza\u00e7\u00e3o de dados geogr\u00e1ficos na WEB, bem como a integra\u00e7\u00e3o desses dados com qualquer outro tipo de informa\u00e7\u00e3o. Estas normas baseiam-se no legado das normas de servi\u00e7os WEB da OGC (WCS, WMS, WMTS, WFS, WPS, etc.), mas definem API centradas em recursos que tiram partido das pr\u00e1ticas modernas de desenvolvimento WEB como REST e JSON , tornando-as compat\u00edveis com uma grande variedade de aplica\u00e7\u00f5es e plataformas. Estas normas promovem a interoperabilidade, a escalabilidade e a seguran\u00e7a, facilitando a integra\u00e7\u00e3o e a an\u00e1lise de dados geogr\u00e1ficos em tempo real. Assim, a Dire\u00e7\u00e3o-Geral do Territ\u00f3rio (DGT) est\u00e1 a criar uma plataforma, que permite disponibilizar os dados geogr\u00e1ficos registados no SNIG e com pol\u00edticas de dados abertas, atrav\u00e9s de OGC API. Acesso A infraestrutura de dados geospaciais OGC API da DGT oferece uma API com m\u00faltiplos endpoints que permitem obter dados geospaciais, mas tamb\u00e9m aceder a metadados sobre o servi\u00e7o em si e as cole\u00e7\u00f5es publicadas. A documenta\u00e7\u00e3o de todos os endpoints publicados est\u00e1 dispon\u00edvel (de acordo com o Standard) no OpenAPI endpoint: https://ogcapi.dgterritorio.gov.pt/openapi Para al\u00e9m da documenta\u00e7\u00e3o dos endpoints, de acordo com o Standard OGC API - Common - Part 1: Core , a API oferece uma Landing Page (ou p\u00e1gina de in\u00edcio) e uma Conformance Declaration (ou declara\u00e7\u00e3o de conformidade): https://ogcapi.dgterritorio.gov.pt/ : Landing Page , ponto de partida para usar a API, com todos os links necess\u00e1rios para aceder a outros recursos. https://ogcapi.dgterritorio.gov.pt/conformance : Conformance Declaration , lista de todos os m\u00f3dulos OGC API suportados neste servi\u00e7o. De acordo com o candidato a Standard OGC API - Common - Part 2 esta API apresenta tamb\u00e9m um endpoint de Collections (colec\u00e7\u00f5es), onde s\u00e3o apresentadas todas as colec\u00e7\u00f5es publicadas por este servi\u00e7o. https://ogcapi.dgterritorio.gov.pt/collections : Collections , lista de colec\u00e7\u00f5es publicadas neste servi\u00e7o. Quote \"Geospatial resources are typically packaged into sets or collections of related resources. A single API may provide access to a large number of collections. This API-GeoData standard provides a means of organizing these collections and defines operations for the discovery and selection of individual collections.\" (OGC API - Common - Part 2: Geospatial Data Standard) Formatos da Resposta Os Standards OGC API oferecem diferentes formatos atrav\u00e9s de um mecanismo de negocia\u00e7\u00e3o de conte\u00fados . Desta forma, uma API poder\u00e1 obter uma resposta em formato JSON, enquanto que um browser poder\u00e1 obter uma resposta em formato HTML. A representa\u00e7\u00e3o alternativa dos endpoints em formato HTML \u00e9 apenas uma conveni\u00eancia e n\u00e3o deve ser considerada um substituto de uma aplica\u00e7\u00e3o cliente, que \u00e9 a forma recomendada de aceder aos endpoints. Na sec\u00e7\u00e3o Acesso desde o QGIS \u00e9 apresentado um exemplo de como aceder ao servi\u00e7o usando uma aplica\u00e7\u00e3o cliente (QGIS). Tip A pygeoapi apresenta um mecanismo para for\u00e7ar o formato da resposta, atrav\u00e9s do par\u00e2metro f . Para obter uma resposta em formato HTML, deve ser usado f=html : https://ogcapi.dgterritorio.gov.pt/?f=html Para obter a mesma resposta em formato JSON, deve ser usado f=json : https://ogcapi.dgterritorio.gov.pt/?f=json Este padr\u00e3o \u00e9 v\u00e1lido para todos os endpoints da OGC API. Colec\u00e7\u00f5es Publicadas A DGT disponibliza 569 colec\u00e7\u00f5es em OGC API. As colec\u00e7\u00f5es \"OrtoSat 30 cm - Portugal Continental - 2023\" ( Cor Verdadeira e Cor Falsa ) est\u00e3o publicadas como OGC API - Maps . Info OGC API - Maps segue as pegadas do Web Map Service (WMS) da OGC, possibilitando \u00e1s aplica\u00e7\u00f5es clientes pedir mapas com informa\u00e7\u00e3o geospacial na web, usando par\u00e2metros espec\u00edficos (bounding box, crs, etc). O Cadastro Predial , a Carta do Regime de Uso do Solo (CRUS) , a Carta de Uso e Ocupa\u00e7\u00e3o do Solo (COS) e a Carta Administrativa Oficial de Portugal (CAOP) est\u00e3o publicadas como OGC API - Features e OGC API - Tiles . As tiles disponibilizadas s\u00e3o vectoriais usando o formato Vector Tile da Mapbox . Info OGC API - Features permite interrogar dados vectoriais na web, independentemente da forma como estes est\u00e3o armazenados (ficheiro, base de dados SQL, base de dados NoSQL). Info OGC API - Tiles pode ser considerado um upgrade ao Standard OGC Web Map Tile Service (WMTS), permitindo criar mapas interactivos na web, que funcionam de uma forma eficiente. A imagem abaixo mostra um exemplo de uma aplica\u00e7\u00e3o de web que produz um mapa interactivo do tema \"crus\", a partir de um endpoint de OGC AP - Tiles. O c\u00f3digo completo pode ser consultado aqui . Os temas CRUS e COS foram sub divididos em sub-temas, com base no municipio, resultando em 278 colec\u00e7\u00f5es cada. A CAOP est\u00e1 dividida em 8 colec\u00e7\u00f5es, uma para cada unidade admninistrativa ( Munic\u00edpios , Freguesias , \u00c1reas administrativas , NUTSI , NUTSII , NUTSIII , Tro\u00e7os , Distritos ). De acordo com OGC API - Common - Part 2 o endpoint de collection (colec\u00e7\u00e3o) cont\u00e9m toda a informa\u00e7\u00e3o necess\u00e1ria sobre essa colec\u00e7\u00e3o, incluindo os links para aceder aos dados e metadados. Por exemplo, para obter os metadados de colec\u00e7\u00e3o da colec\u00e7\u00e3o crus_abrantes : https://ogcapi.dgterritorio.gov.pt/collections/crus_abrantes A partir de aqui, \u00e9 poss\u00edvel obter os dados em formato OGC API - Features, ou navegar at\u00e9 ao endpoint de tiles: https://ogcapi.dgterritorio.gov.pt/collections/crus_abrantes/items https://ogcapi.dgterritorio.gov.pt/collections/crus_abrantes/tiles Tip OGC API - Features suporta um parametro de paging, que permite receber um n\u00famero pre definido de items na resposta. Por defeito, o servidor est\u00e1 configurado para devolver respostas com 100 items. Este limite pode ser for\u00e7ado atrav\u00e9s do par\u00e2metro limit , at\u00e9 atingir o valor m\u00e1ximo definido no servidor. Por exemplo, para pedir uma resposta que devolva o m\u00e1ximo de 200 items: https://ogcapi.dgterritorio.gov.pt/collections/crus_abrantes/items?limit=200 CRS Suportados Este servi\u00e7o publica os dados vectoriais em cinco Coordinate Reference Systems (CRS) , ou Sistemas de Refer\u00eancia de Coordenadas: http://www.opengis.net/def/crs/OGC/1.3/CRS84 http://www.opengis.net/def/crs/EPSG/0/4326 http://www.opengis.net/def/crs/EPSG/0/3857 http://www.opengis.net/def/crs/EPSG/0/4258 http://www.opengis.net/def/crs/EPSG/0/3763 De acordo com OGC API - Common - Part 2 esta informa\u00e7\u00e3o \u00e9 apresentada no endpoint collection de cada colec\u00e7\u00e3o.","title":"Descri\u00e7\u00e3o do Sistema"},{"location":"descricao/#descricao","text":"Warning As descri\u00e7\u00f5es de funcionalidade dos Standards OGC apresentadas nesta sec\u00e7\u00e3o cobrem apenas alguns aspectos e n\u00e3o dispensam a leitura completa dos Standards aqui referidos: OGC API - Common, OGC API Features e OGC API - Tiles. Os links para esses documentos podem ser encontrados directamente no texto, ou na sec\u00e7\u00e3o Refer\u00eancias e Recursos de Aprendizagem","title":"Descri\u00e7\u00e3o"},{"location":"descricao/#introducao","text":"A disponibiliza\u00e7\u00e3o e reutiliza\u00e7\u00e3o dos dados abertos, conforme estabelecido na Diretiva (UE) 2019/1024 do Parlamento Europeu e do Conselho, exige a ado\u00e7\u00e3o de novos procedimentos nomeadamente a n\u00edvel da disponibiliza\u00e7\u00e3o e reutiliza\u00e7\u00e3o da informa\u00e7\u00e3o do sector p\u00fablico. Os dados geogr\u00e1ficos abertos devem ser disponibilizados gratuitamente, em formato leg\u00edvel por m\u00e1quinas e por meio de Interfaces de Programa\u00e7\u00e3o de Aplica\u00e7\u00f5es (IPA/API). A Open Geospatial Consortium (OGC) tem vindo nos \u00faltimos anos a desenvolver novos Servi\u00e7os de Dados Geogr\u00e1ficos (SDG) para a WEB atrav\u00e9s de API, denominadas de OGC API . Estas API foram concebidas para facilitar a qualquer pessoa a disponibiliza\u00e7\u00e3o e a utiliza\u00e7\u00e3o de dados geogr\u00e1ficos na WEB, bem como a integra\u00e7\u00e3o desses dados com qualquer outro tipo de informa\u00e7\u00e3o. Estas normas baseiam-se no legado das normas de servi\u00e7os WEB da OGC (WCS, WMS, WMTS, WFS, WPS, etc.), mas definem API centradas em recursos que tiram partido das pr\u00e1ticas modernas de desenvolvimento WEB como REST e JSON , tornando-as compat\u00edveis com uma grande variedade de aplica\u00e7\u00f5es e plataformas. Estas normas promovem a interoperabilidade, a escalabilidade e a seguran\u00e7a, facilitando a integra\u00e7\u00e3o e a an\u00e1lise de dados geogr\u00e1ficos em tempo real. Assim, a Dire\u00e7\u00e3o-Geral do Territ\u00f3rio (DGT) est\u00e1 a criar uma plataforma, que permite disponibilizar os dados geogr\u00e1ficos registados no SNIG e com pol\u00edticas de dados abertas, atrav\u00e9s de OGC API.","title":"Introdu\u00e7\u00e3o"},{"location":"descricao/#acesso","text":"A infraestrutura de dados geospaciais OGC API da DGT oferece uma API com m\u00faltiplos endpoints que permitem obter dados geospaciais, mas tamb\u00e9m aceder a metadados sobre o servi\u00e7o em si e as cole\u00e7\u00f5es publicadas. A documenta\u00e7\u00e3o de todos os endpoints publicados est\u00e1 dispon\u00edvel (de acordo com o Standard) no OpenAPI endpoint: https://ogcapi.dgterritorio.gov.pt/openapi Para al\u00e9m da documenta\u00e7\u00e3o dos endpoints, de acordo com o Standard OGC API - Common - Part 1: Core , a API oferece uma Landing Page (ou p\u00e1gina de in\u00edcio) e uma Conformance Declaration (ou declara\u00e7\u00e3o de conformidade): https://ogcapi.dgterritorio.gov.pt/ : Landing Page , ponto de partida para usar a API, com todos os links necess\u00e1rios para aceder a outros recursos. https://ogcapi.dgterritorio.gov.pt/conformance : Conformance Declaration , lista de todos os m\u00f3dulos OGC API suportados neste servi\u00e7o. De acordo com o candidato a Standard OGC API - Common - Part 2 esta API apresenta tamb\u00e9m um endpoint de Collections (colec\u00e7\u00f5es), onde s\u00e3o apresentadas todas as colec\u00e7\u00f5es publicadas por este servi\u00e7o. https://ogcapi.dgterritorio.gov.pt/collections : Collections , lista de colec\u00e7\u00f5es publicadas neste servi\u00e7o. Quote \"Geospatial resources are typically packaged into sets or collections of related resources. A single API may provide access to a large number of collections. This API-GeoData standard provides a means of organizing these collections and defines operations for the discovery and selection of individual collections.\" (OGC API - Common - Part 2: Geospatial Data Standard)","title":"Acesso"},{"location":"descricao/#formatos-da-resposta","text":"Os Standards OGC API oferecem diferentes formatos atrav\u00e9s de um mecanismo de negocia\u00e7\u00e3o de conte\u00fados . Desta forma, uma API poder\u00e1 obter uma resposta em formato JSON, enquanto que um browser poder\u00e1 obter uma resposta em formato HTML. A representa\u00e7\u00e3o alternativa dos endpoints em formato HTML \u00e9 apenas uma conveni\u00eancia e n\u00e3o deve ser considerada um substituto de uma aplica\u00e7\u00e3o cliente, que \u00e9 a forma recomendada de aceder aos endpoints. Na sec\u00e7\u00e3o Acesso desde o QGIS \u00e9 apresentado um exemplo de como aceder ao servi\u00e7o usando uma aplica\u00e7\u00e3o cliente (QGIS). Tip A pygeoapi apresenta um mecanismo para for\u00e7ar o formato da resposta, atrav\u00e9s do par\u00e2metro f . Para obter uma resposta em formato HTML, deve ser usado f=html : https://ogcapi.dgterritorio.gov.pt/?f=html Para obter a mesma resposta em formato JSON, deve ser usado f=json : https://ogcapi.dgterritorio.gov.pt/?f=json Este padr\u00e3o \u00e9 v\u00e1lido para todos os endpoints da OGC API.","title":"Formatos da Resposta"},{"location":"descricao/#coleccoes-publicadas","text":"A DGT disponibliza 569 colec\u00e7\u00f5es em OGC API. As colec\u00e7\u00f5es \"OrtoSat 30 cm - Portugal Continental - 2023\" ( Cor Verdadeira e Cor Falsa ) est\u00e3o publicadas como OGC API - Maps . Info OGC API - Maps segue as pegadas do Web Map Service (WMS) da OGC, possibilitando \u00e1s aplica\u00e7\u00f5es clientes pedir mapas com informa\u00e7\u00e3o geospacial na web, usando par\u00e2metros espec\u00edficos (bounding box, crs, etc). O Cadastro Predial , a Carta do Regime de Uso do Solo (CRUS) , a Carta de Uso e Ocupa\u00e7\u00e3o do Solo (COS) e a Carta Administrativa Oficial de Portugal (CAOP) est\u00e3o publicadas como OGC API - Features e OGC API - Tiles . As tiles disponibilizadas s\u00e3o vectoriais usando o formato Vector Tile da Mapbox . Info OGC API - Features permite interrogar dados vectoriais na web, independentemente da forma como estes est\u00e3o armazenados (ficheiro, base de dados SQL, base de dados NoSQL). Info OGC API - Tiles pode ser considerado um upgrade ao Standard OGC Web Map Tile Service (WMTS), permitindo criar mapas interactivos na web, que funcionam de uma forma eficiente. A imagem abaixo mostra um exemplo de uma aplica\u00e7\u00e3o de web que produz um mapa interactivo do tema \"crus\", a partir de um endpoint de OGC AP - Tiles. O c\u00f3digo completo pode ser consultado aqui . Os temas CRUS e COS foram sub divididos em sub-temas, com base no municipio, resultando em 278 colec\u00e7\u00f5es cada. A CAOP est\u00e1 dividida em 8 colec\u00e7\u00f5es, uma para cada unidade admninistrativa ( Munic\u00edpios , Freguesias , \u00c1reas administrativas , NUTSI , NUTSII , NUTSIII , Tro\u00e7os , Distritos ). De acordo com OGC API - Common - Part 2 o endpoint de collection (colec\u00e7\u00e3o) cont\u00e9m toda a informa\u00e7\u00e3o necess\u00e1ria sobre essa colec\u00e7\u00e3o, incluindo os links para aceder aos dados e metadados. Por exemplo, para obter os metadados de colec\u00e7\u00e3o da colec\u00e7\u00e3o crus_abrantes : https://ogcapi.dgterritorio.gov.pt/collections/crus_abrantes A partir de aqui, \u00e9 poss\u00edvel obter os dados em formato OGC API - Features, ou navegar at\u00e9 ao endpoint de tiles: https://ogcapi.dgterritorio.gov.pt/collections/crus_abrantes/items https://ogcapi.dgterritorio.gov.pt/collections/crus_abrantes/tiles Tip OGC API - Features suporta um parametro de paging, que permite receber um n\u00famero pre definido de items na resposta. Por defeito, o servidor est\u00e1 configurado para devolver respostas com 100 items. Este limite pode ser for\u00e7ado atrav\u00e9s do par\u00e2metro limit , at\u00e9 atingir o valor m\u00e1ximo definido no servidor. Por exemplo, para pedir uma resposta que devolva o m\u00e1ximo de 200 items: https://ogcapi.dgterritorio.gov.pt/collections/crus_abrantes/items?limit=200","title":"Colec\u00e7\u00f5es Publicadas"},{"location":"descricao/#crs-suportados","text":"Este servi\u00e7o publica os dados vectoriais em cinco Coordinate Reference Systems (CRS) , ou Sistemas de Refer\u00eancia de Coordenadas: http://www.opengis.net/def/crs/OGC/1.3/CRS84 http://www.opengis.net/def/crs/EPSG/0/4326 http://www.opengis.net/def/crs/EPSG/0/3857 http://www.opengis.net/def/crs/EPSG/0/4258 http://www.opengis.net/def/crs/EPSG/0/3763 De acordo com OGC API - Common - Part 2 esta informa\u00e7\u00e3o \u00e9 apresentada no endpoint collection de cada colec\u00e7\u00e3o.","title":"CRS Suportados"},{"location":"perguntas/","text":"Perguntas Frequentes Esta sec\u00e7\u00e3o compila alguns problemas comuns que podem surgir, e as solu\u00e7\u00f5es identificadas. Caso identifiquem outros problemas/solu\u00e7\u00f5es que mere\u00e7am a pena ser adicionados ou actualizados, podem contribuir utilizando os mecanismos identificados nesta sec\u00e7\u00e3o . Question Porque \u00e9 que a representa\u00e7\u00e3o HTML da OGC API - DGT est\u00e1 em ingl\u00eas? A OGC API da DGT suporta portugu\u00eas e ingl\u00eas, de acordo com a prefer\u00eancia do cliente. A pygeoapi segue um mecanismo Standard de HTTP, que procura satisfazer o header Accept-Language do pedido enviado pelo cliente. No caso de aceder \u00e1 API atrav\u00e9s de um browser verifique se a l\u00edngua que tem pre-definida \u00e9 o ingl\u00eas, o que explicaria obter uma resposta em ingl\u00eas. Tip A pygeoapi permite for\u00e7ar a resposta uma determinada l\u00edngua, atrav\u00e9s do par\u00e2metro lang . Por exemplo para obter uma resposta em portugu\u00eas, independentemente da l\u00edngua do cliente: https://ogcapi.dgterritorio.gov.pt/?lang=pt Question A p\u00e1gina de colec\u00e7\u00f5es da OGC API da DGT tem centenas de entradas. Como posso filtra-las para encontrar uma entrada espec\u00edfica, por exemplo caop ? A OGC API da DGT \u00e9 uma API, desenhada para ser consumida por uma aplica\u00e7\u00e3o cliente (como o QGIS). A representa\u00e7\u00e3o HTML dos endpoints \u00e9 apenas um exemplo, que permite uma visualiza\u00e7\u00e3o mais simp\u00e1tica que um documento em JSON, mas n\u00e3o apresenta funcionalidades como pesquisas. Tip Ao criar uma liga\u00e7\u00e3o no QGIS com o endpoint da OGC API - Features , \u00e9 poss\u00edvel filtrar as colec\u00e7\u00f5es no servidor usando uma string (por exemplo caop ). Question Sei que esta colec\u00e7\u00e3o tem mais de um milh\u00e3o de registos, mas quando acedo aos dados atrav\u00e9s do endpoint de OGC API - Features s\u00f3 me aparecem 100. Porqu\u00ea esta diferen\u00e7a? A OGC API usa um mecanismo de paging para evitar sobrecarregar o servidor e o cliente com muitos items. Por defeito, este servi\u00e7o est\u00e1 configurado para servir 100 items de cada vez. Tip O n\u00famero de items devolvidos pela OGC API - Features pode ser for\u00e7ado atrav\u00e9s do par\u00e2metro limit , at\u00e9 chegar ao limite configurado para o servidor. Por exemplo: https://ogcapi.dgterritorio.gov.pt/collections/crus/items?limit=250 https://ogcapi.dgterritorio.gov.pt/collections/crus/items?limit=10 No caso de o limit ultrapassar o limite do servidor, n\u00e3o ser\u00e1 apresentado nenhum erro, mas o n\u00famero m\u00e1ximo de items permitidos ser\u00e1 devolvido na resposta. Mais detalhes sobre o par\u00e2metro limit , incluindo uma explica\u00e7\u00e3o de como obter links para navegar atrav\u00e9s das colec\u00e7\u00f5es usando paging, podem ser consultados nesta sec\u00e7\u00e3o do Standard . Question A resposta do servi\u00e7o OGC API - Features \u00e9 muito lenta no meu cliente (por exemplo QGIS). Porqu\u00ea? As aplica\u00e7\u00f5es clientes podem estar a fazer outras opera\u00e7\u00f5es quando est\u00e3o a aceder aos items, como por exemplo fazer o rendering da visualiza\u00e7\u00e3o ou criar um cache. Estas opera\u00e7\u00f5es podem afectar o tempo que o utilizador espera por uma resposta. Tip Para avaliar o tempo real que a OGC API da DGT demora a responder, recomenda-se um processo mais directo de download, como por exemplo usando curl ou wget na linha de comandos. wget 'https://ogcapi.dgterritorio.gov.pt/collections/crus/items?f=json&limit=5000' --2025-04-25 21:35:21-- https://ogcapi.dgterritorio.gov.pt/collections/crus/items?f=json&limit=5000 Resolving ogcapi.dgterritorio.gov.pt (ogcapi.dgterritorio.gov.pt)... 193.137.95.231 Connecting to ogcapi.dgterritorio.gov.pt (ogcapi.dgterritorio.gov.pt)|193.137.95.231|:443... connected. HTTP request sent, awaiting response... 200 OK Length: 60693514 (58M) [application/json] Saving to: \u2018items?f=json&limit=5000\u2019 items?f=json&limit= 100%[===================>] 57,88M 4,72MB/s in 12s 2025-04-25 21:35:36 (4,64 MB/s) - \u2018items?f=json&limit=5000\u2019 saved [60693514/60693514]","title":"Perguntas Frequentes"},{"location":"perguntas/#perguntas-frequentes","text":"Esta sec\u00e7\u00e3o compila alguns problemas comuns que podem surgir, e as solu\u00e7\u00f5es identificadas. Caso identifiquem outros problemas/solu\u00e7\u00f5es que mere\u00e7am a pena ser adicionados ou actualizados, podem contribuir utilizando os mecanismos identificados nesta sec\u00e7\u00e3o . Question Porque \u00e9 que a representa\u00e7\u00e3o HTML da OGC API - DGT est\u00e1 em ingl\u00eas? A OGC API da DGT suporta portugu\u00eas e ingl\u00eas, de acordo com a prefer\u00eancia do cliente. A pygeoapi segue um mecanismo Standard de HTTP, que procura satisfazer o header Accept-Language do pedido enviado pelo cliente. No caso de aceder \u00e1 API atrav\u00e9s de um browser verifique se a l\u00edngua que tem pre-definida \u00e9 o ingl\u00eas, o que explicaria obter uma resposta em ingl\u00eas. Tip A pygeoapi permite for\u00e7ar a resposta uma determinada l\u00edngua, atrav\u00e9s do par\u00e2metro lang . Por exemplo para obter uma resposta em portugu\u00eas, independentemente da l\u00edngua do cliente: https://ogcapi.dgterritorio.gov.pt/?lang=pt Question A p\u00e1gina de colec\u00e7\u00f5es da OGC API da DGT tem centenas de entradas. Como posso filtra-las para encontrar uma entrada espec\u00edfica, por exemplo caop ? A OGC API da DGT \u00e9 uma API, desenhada para ser consumida por uma aplica\u00e7\u00e3o cliente (como o QGIS). A representa\u00e7\u00e3o HTML dos endpoints \u00e9 apenas um exemplo, que permite uma visualiza\u00e7\u00e3o mais simp\u00e1tica que um documento em JSON, mas n\u00e3o apresenta funcionalidades como pesquisas. Tip Ao criar uma liga\u00e7\u00e3o no QGIS com o endpoint da OGC API - Features , \u00e9 poss\u00edvel filtrar as colec\u00e7\u00f5es no servidor usando uma string (por exemplo caop ). Question Sei que esta colec\u00e7\u00e3o tem mais de um milh\u00e3o de registos, mas quando acedo aos dados atrav\u00e9s do endpoint de OGC API - Features s\u00f3 me aparecem 100. Porqu\u00ea esta diferen\u00e7a? A OGC API usa um mecanismo de paging para evitar sobrecarregar o servidor e o cliente com muitos items. Por defeito, este servi\u00e7o est\u00e1 configurado para servir 100 items de cada vez. Tip O n\u00famero de items devolvidos pela OGC API - Features pode ser for\u00e7ado atrav\u00e9s do par\u00e2metro limit , at\u00e9 chegar ao limite configurado para o servidor. Por exemplo: https://ogcapi.dgterritorio.gov.pt/collections/crus/items?limit=250 https://ogcapi.dgterritorio.gov.pt/collections/crus/items?limit=10 No caso de o limit ultrapassar o limite do servidor, n\u00e3o ser\u00e1 apresentado nenhum erro, mas o n\u00famero m\u00e1ximo de items permitidos ser\u00e1 devolvido na resposta. Mais detalhes sobre o par\u00e2metro limit , incluindo uma explica\u00e7\u00e3o de como obter links para navegar atrav\u00e9s das colec\u00e7\u00f5es usando paging, podem ser consultados nesta sec\u00e7\u00e3o do Standard . Question A resposta do servi\u00e7o OGC API - Features \u00e9 muito lenta no meu cliente (por exemplo QGIS). Porqu\u00ea? As aplica\u00e7\u00f5es clientes podem estar a fazer outras opera\u00e7\u00f5es quando est\u00e3o a aceder aos items, como por exemplo fazer o rendering da visualiza\u00e7\u00e3o ou criar um cache. Estas opera\u00e7\u00f5es podem afectar o tempo que o utilizador espera por uma resposta. Tip Para avaliar o tempo real que a OGC API da DGT demora a responder, recomenda-se um processo mais directo de download, como por exemplo usando curl ou wget na linha de comandos. wget 'https://ogcapi.dgterritorio.gov.pt/collections/crus/items?f=json&limit=5000' --2025-04-25 21:35:21-- https://ogcapi.dgterritorio.gov.pt/collections/crus/items?f=json&limit=5000 Resolving ogcapi.dgterritorio.gov.pt (ogcapi.dgterritorio.gov.pt)... 193.137.95.231 Connecting to ogcapi.dgterritorio.gov.pt (ogcapi.dgterritorio.gov.pt)|193.137.95.231|:443... connected. HTTP request sent, awaiting response... 200 OK Length: 60693514 (58M) [application/json] Saving to: \u2018items?f=json&limit=5000\u2019 items?f=json&limit= 100%[===================>] 57,88M 4,72MB/s in 12s 2025-04-25 21:35:36 (4,64 MB/s) - \u2018items?f=json&limit=5000\u2019 saved [60693514/60693514]","title":"Perguntas Frequentes"},{"location":"recursos/","text":"Refer\u00eancias e Recursos de Aprendizagem Esta sec\u00e7\u00e3o compila as refer\u00eancias e recursos de aprendizagem externos, referentes a algumas tecnologias descritas neste manual. OGC API OGC API Workshop Location Innovation Academy Workshop OGC API do projecto eMOTIONAL Cities D 3.3 of the eMOTIONAL Cities Project - Description of the SDIs I Developer Website da OGC Reposit\u00f3rio GitHub de OGC API - Features Reposit\u00f3rio GitHub de OGC API - Tiles Reposit\u00f3rio GitHub de OGC API - Maps OGC API - Features - Part 1 OGC API - Features - Part 2: Coordinate Reference Systems by Reference OGC API - Features - Part 3: Filtering OGC API - Tiles - Part 1: Core OGC API - Maps - Part 1: Core QGIS Documenta\u00e7\u00e3o Oficial QGIS 3.4.0 Tutorial: using OGC API - Features data in QGIS","title":"Refer\u00eancias e Recursos de Aprendizagem"},{"location":"recursos/#referencias-e-recursos-de-aprendizagem","text":"Esta sec\u00e7\u00e3o compila as refer\u00eancias e recursos de aprendizagem externos, referentes a algumas tecnologias descritas neste manual.","title":"Refer\u00eancias e Recursos de Aprendizagem"},{"location":"recursos/#ogc-api","text":"OGC API Workshop Location Innovation Academy Workshop OGC API do projecto eMOTIONAL Cities D 3.3 of the eMOTIONAL Cities Project - Description of the SDIs I Developer Website da OGC Reposit\u00f3rio GitHub de OGC API - Features Reposit\u00f3rio GitHub de OGC API - Tiles Reposit\u00f3rio GitHub de OGC API - Maps OGC API - Features - Part 1 OGC API - Features - Part 2: Coordinate Reference Systems by Reference OGC API - Features - Part 3: Filtering OGC API - Tiles - Part 1: Core OGC API - Maps - Part 1: Core","title":"OGC API"},{"location":"recursos/#qgis","text":"Documenta\u00e7\u00e3o Oficial QGIS 3.4.0 Tutorial: using OGC API - Features data in QGIS","title":"QGIS"}]}